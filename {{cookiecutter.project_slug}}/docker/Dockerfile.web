FROM jscorptech/django:v0.5

ARG SCRIPT="entrypoint.sh"
ENV SCRIPT=$SCRIPT


WORKDIR /code

COPY ./ /code

RUN apk add --no-cache curl || apk add --no-cache openbsd-netcat


RUN --mount=type=cache,target=/root/.cache/pip pip install -r requirements.txt

COPY ./resources/scripts/$SCRIPT /code/$SCRIPT

RUN chmod +x /code/resources/scripts/$SCRIPT

CMD sh /code/resources/scripts/$SCRIPT


