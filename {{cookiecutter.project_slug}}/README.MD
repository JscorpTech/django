# JST-Django Template Documentation

**Language:** [O'zbek](README.MD) | English

Welcome! This is a comprehensive Django project template designed to streamline Django application development with pre-configured architecture, best practices, and powerful CLI tools.

## Overview

This template consists of two main components:

1. **CLI Tool** - Command-line interface for generating Django apps and modules
2. **Architecture Template** - Production-ready Django project structure with Docker, pre-configured packages, and best practices

> **Note:** While these components can be used independently, using them together provides the best development experience.

## Key Features

- ğŸš€ Production-ready Django project structure
- ğŸ³ Docker & Docker Compose configuration
- ğŸ“¦ Pre-configured popular packages (DRF, Celery, Redis, etc.)
- ğŸ”§ CLI tool for rapid app/module generation
- ğŸŒ Multi-language support (modeltranslation/parler)
- ğŸ”’ Security best practices included
- ğŸ“ API documentation with Swagger/ReDoc
- âœ… Testing setup with pytest

## Installation

Install the CLI tool via pip:

```bash
pip install -U jst-django
```

> **Important:** Always use the latest version of the CLI tool for compatibility with the template.

## Quick Start

### 1. Create a New Project

```bash
jst create
```

You will be prompted for:

- **Template**: Choose "django" (default)
- **Project Name**: Your project name (used throughout the project)
- **Settings File**: Keep default
- **Packages**: Select additional packages you need:
  - modeltranslation or parler (choose one for translations)
  - silk (performance profiling)
  - channels (WebSocket support)
  - ckeditor (rich text editor)
  - and more...
- **Runner**: wsgi or asgi (choose asgi for WebSocket/async features)
- **Django Secret Key**: Change in production!
- **Port**: Default 8081
- **Admin Password**: Set a strong password
- **Flake8**: Code style enforcement (recommended)

### 2. Start the Project

**Requirements:** Docker must be installed on your system.

Navigate to your project directory:

```bash
cd your_project_name
```

Start the project using Make:

```bash
make up
```

Or manually:

```bash
docker compose up -d
docker compose exec web python manage.py seed
```

The project will be available at `http://localhost:8081`

### 3. Run Tests

```bash
make test
```

## Creating Applications

### Create a New App

```bash
jst make:app <app_name>
```

Choose a module type:
- **default**: Empty app structure
- **bot**: Telegram bot integration
- **authbot**: Telegram authentication
- **authv2**: New authentication system
- **websocket**: WebSocket support

The app will be automatically created and registered.

## Generating Modules

The most powerful feature of JST-Django is module generation:

```bash
jst make:module
```

You will be prompted for:

1. **File Name**: Basename for generated files (e.g., "post")
2. **Module Names**: List of models to generate (e.g., "post, tag, category")
3. **App**: Target application
4. **Components**: Select what to generate:
   - Model
   - Serializer
   - View (ViewSet)
   - Admin
   - Permissions
   - Filters
   - Tests
   - URLs

This generates complete CRUD APIs with all selected components!

## Project Structure

```
â”œâ”€â”€ config/                 # Configuration files
â”‚   â”œâ”€â”€ settings/          # Environment-specific settings
â”‚   â”‚   â”œâ”€â”€ common.py      # Shared settings
â”‚   â”‚   â”œâ”€â”€ local.py       # Development settings
â”‚   â”‚   â”œâ”€â”€ production.py  # Production settings
â”‚   â”‚   â””â”€â”€ test.py        # Test settings
â”‚   â”œâ”€â”€ conf/              # Package configurations
â”‚   â”œâ”€â”€ urls.py
â”‚   â””â”€â”€ wsgi.py / asgi.py
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ apps/              # Django applications
â”‚   â”‚   â”œâ”€â”€ accounts/      # Pre-configured auth system
â”‚   â”‚   â””â”€â”€ shared/        # Shared utilities
â”‚   â”œâ”€â”€ services/          # Business logic services
â”‚   â””â”€â”€ utils/             # Utility functions
â”œâ”€â”€ docker/                # Docker configurations
â”œâ”€â”€ resources/             # Static resources, scripts
â”œâ”€â”€ Makefile              # Convenience commands
â”œâ”€â”€ docker-compose.yml    # Docker Compose config
â”œâ”€â”€ requirements.txt      # Python dependencies
â””â”€â”€ manage.py
```

## Available Make Commands

```bash
make up              # Start containers
make down            # Stop containers
make build           # Build containers
make rebuild         # Rebuild and restart
make logs            # View logs
make makemigrations  # Create migrations
make migrate         # Apply migrations
make migrations      # Make and apply migrations
make seed            # Seed database with initial data
make fresh           # Reset DB, migrate, and seed
make test            # Run tests
make deploy          # Deploy (local)
make deploy-prod     # Deploy (production)
```

## Security Considerations

âš ï¸ **Important:** See [SECURITY.md](SECURITY.md) for detailed security guidelines.

**Quick checklist:**
- âœ… Change `DJANGO_SECRET_KEY` in production
- âœ… Change default admin password
- âœ… Set `DEBUG=False` in production
- âœ… Configure proper `ALLOWED_HOSTS`
- âœ… Use HTTPS (`PROTOCOL_HTTPS=True`)
- âœ… Change database password
- âœ… Never commit `.env` file

## Environment Variables

Key environment variables in `.env`:

- `DJANGO_SECRET_KEY`: Django secret key (change in production!)
- `DEBUG`: Debug mode (False in production)
- `DB_PASSWORD`: Database password (change in production!)
- `DJANGO_SETTINGS_MODULE`: Settings module to use
- `PROJECT_ENV`: debug | prod
- `SILK_ENABLED`: Enable Silk profiling (optional)

See `.env.example` for all available options.

## Additional Packages

The template supports optional packages:

- **modeltranslation**: Model field translation
- **parler**: Alternative translation solution
- **silk**: Performance profiling
- **channels**: WebSocket/async support
- **ckeditor**: Rich text editor
- **rosetta**: Translation management
- **cacheops**: Advanced caching

## Testing

Tests are written using pytest-django:

```bash
# Run all tests
make test

# Run specific tests
docker compose exec web pytest path/to/test.py -v
```

## Contributing

Contributions are welcome! Please feel free to submit issues and pull requests.

## License

See [LICENSE](LICENSE) file for details.

## Support

For issues and questions:
- Create an issue on GitHub
- Check existing documentation

---

**Happy Coding! ğŸš€**

